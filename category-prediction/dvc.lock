schema: '2.0'
stages:
  load_data:
    cmd: python src/load_data.py --config=params.yaml
    deps:
    - path: src/get_data.py
      hash: md5
      md5: ae0cdc45824c5671aa5717884fcda923
      size: 2392
    - path: src/load_data.py
      hash: md5
      md5: 3454076ebb30b2c6f837bc55bf9f9c2a
      size: 917
    outs:
    - path: data/raw/combinedcategory.csv
      hash: md5
      md5: c2ab7955d92b3408240aac28b04b9f94
      size: 1177
  analyse_data:
    cmd: python src/analyse_data.py --config=params.yaml
    deps:
    - path: data/raw/combinedcategory.csv
      hash: md5
      md5: c2ab7955d92b3408240aac28b04b9f94
      size: 1177
    - path: src/analyse_data.py
      hash: md5
      md5: 4ad22f8023cbfc9b35cdabbc17e2332a
      size: 5779
    outs:
    - path: reports/figures/
      hash: md5
      md5: cd8d6297f38cc8b40791e28f08567d87.dir
      size: 328988
      nfiles: 6
  transform_data:
    cmd: python src/transform_data.py --config=params.yaml
    deps:
    - path: data/raw/combinedcategory.csv
      hash: md5
      md5: c2ab7955d92b3408240aac28b04b9f94
      size: 1177
    - path: reports/files/final_category.json
      hash: md5
      md5: 361acb6f131ca74e7770dc393af4393c
      size: 200
    - path: src/transform_data.py
      hash: md5
      md5: 46f176f49294f61064e5780b7809e61b
      size: 6194
    outs:
    - path: data/processed/finaldataframe.csv
      hash: md5
      md5: 3ec5bc7e90f56abf573bf41954fd7f19
      size: 644
    - path: data/processed/translated_dataframe.csv
      hash: md5
      md5: 3ec5bc7e90f56abf573bf41954fd7f19
      size: 644
    - path: reports/files/translated.json
      hash: md5
      md5: ff870abca1ec3ce8837c761211301eb0
      size: 461
  train_and_evaluate:
    cmd: python src/train_and_evaluate.py --config=params.yaml
    deps:
    - path: data/processed/finaldataframe.csv
      hash: md5
      md5: 3ec5bc7e90f56abf573bf41954fd7f19
      size: 644
    - path: data/processed/translated_dataframe.csv
      hash: md5
      md5: 3ec5bc7e90f56abf573bf41954fd7f19
      size: 644
    - path: src/train_and_evaluate.py
      hash: md5
      md5: ac7ed67b5d818d5225a90f300814cfa8
      size: 7413
    params:
      params.yaml:
        model_parameters.batch_size: 16
        model_parameters.bert_model_name: bert-base-uncased
        model_parameters.epochs: 4
        model_parameters.learning_rate: 2e-05
        model_parameters.max_length: 128
        model_parameters.random_state: 42
        model_parameters.shuffle: true
        model_parameters.test_size: 0.2
    outs:
    - path: reports/scores.json
      hash: md5
      md5: fac748b6d4b0f9012b591c4f35f4e662
      size: 139
    - path: saved_models/
      hash: md5
      md5: a62534fb52c227c6262f6e038a6ca317.dir
      size: 438034502
      nfiles: 1
